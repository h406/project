//==============================================================================
//
// shadow[shadow.cpp]
// Author : masato masuda : 2015/12/15
//
//==============================================================================

//******************************************************************************
// include
//******************************************************************************
#include "shadow.h"
#include "dataManager.h"

namespace{
  const Vec2 kShadowSize(100.f, 100.f);
}

//==============================================================================
// init
//------------------------------------------------------------------------------
bool Shadow::init(void)
{
  _sprite = Sprite3D::create("./data/texture/shadow.png");
  _sprite->setSize(kShadowSize.x, kShadowSize.y) ;
  _sprite->setRotX(D3DX_PI * 0.5f);
  this->addChild(_sprite);

  _owner = nullptr;
  _offsetY = 1.0f;

  return true;
}

//==============================================================================
// update
//------------------------------------------------------------------------------
void Shadow::update(void)
{
  _pos.y = _offsetY;
  if (_owner == nullptr) return;

  Vec3 pos = _owner->getPos();
  pos.y = _offsetY;
  _pos = pos;
}

//==============================================================================
// uninit
//------------------------------------------------------------------------------
void Shadow::uninit(void)
{
}

//==============================================================================
// setColor
//------------------------------------------------------------------------------
void Shadow::setColor(const D3DXCOLOR& col)
{
  _sprite->setColor(col);
}


//EOF
